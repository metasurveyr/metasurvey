<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Explorador Interactivo de Recetas (ES) • metasurvey</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Explorador Interactivo de Recetas (ES)">
<!-- javascript assets for rmarkdown --><meta name="pkgdown-site-root" content="../">
<script src="../ace-1.2.3/ace.js" type="text/javascript" charset="utf-8"></script><script src="../holder-2.9.0/holder.min.js" type="text/javascript" charset="utf-8"></script><script src="../snippets/snippets.js" type="text/javascript" charset="utf-8"></script><style type="text/css">
.snippet {
  border: solid 1px #cccccc;
  margin-bottom: 12px;
  width: 100%;
}
</style>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metasurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/metasurveyr/metasurvey/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Explorador Interactivo de Recetas (ES)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/metasurveyr/metasurvey/blob/v0.0.7/vignettes/shiny-explorer-es.Rmd" class="external-link"><code>vignettes/shiny-explorer-es.Rmd</code></a></small>
      <div class="d-none name"><code>shiny-explorer-es.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="descripción-general">Descripción general<a class="anchor" aria-label="anchor" href="#descripci%C3%B3n-general"></a>
</h2>
<p>metasurvey incluye una aplicación web Shiny para explorar, buscar y
gestionar recetas y workflows de forma interactiva. La aplicación se
conecta a la API de metasurvey para mostrar recetas contribuidas por la
comunidad, o funciona en modo offline con datos de ejemplo
incorporados.</p>
</div>
<div class="section level2">
<h2 id="iniciar-la-aplicación">Iniciar la aplicación<a class="anchor" aria-label="anchor" href="#iniciar-la-aplicaci%C3%B3n"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://metasurveyr.github.io/metasurvey">metasurvey</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Open in your default browser</span></span>
<span><span class="fu"><a href="../reference/explore_recipes.html">explore_recipes</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or specify host and port</span></span>
<span><span class="fu"><a href="../reference/explore_recipes.html">explore_recipes</a></span><span class="op">(</span>port <span class="op">=</span> <span class="fl">3838</span>, host <span class="op">=</span> <span class="st">"127.0.0.1"</span><span class="op">)</span></span></code></pre></div>
<p>La función <code><a href="../reference/explore_recipes.html">explore_recipes()</a></code> inicia la aplicación Shiny
y la abre en el navegador. No se necesita configuración adicional: la
aplicación se conecta automáticamente a la API de producción.</p>
</div>
<div class="section level2">
<h2 id="navegación-de-la-interfaz">Navegación de la interfaz<a class="anchor" aria-label="anchor" href="#navegaci%C3%B3n-de-la-interfaz"></a>
</h2>
<p>La aplicación tiene tres pestañas principales en la barra de
navegación superior:</p>
<div class="section level3">
<h3 id="pestaña-de-recetas">Pestaña de Recetas<a class="anchor" aria-label="anchor" href="#pesta%C3%B1a-de-recetas"></a>
</h3>
<p>La pestaña <strong>Recipes</strong> es el punto de entrada principal.
Muestra una grilla con búsqueda de recetas publicadas, cada una
presentada como una tarjeta con:</p>
<ul>
<li>
<strong>Nombre y edición</strong> como metadatos</li>
<li>
<strong>Descripción</strong> (truncada a dos líneas)</li>
<li>
<strong>Etiquetas de categoría</strong> con insignias de colores
(Labor Market, Income, Education, Health, Demographics, Housing)</li>
<li>
<strong>Nivel de certificación</strong> indicado por el color del
encabezado de la tarjeta:
<ul>
<li>Índigo = Official</li>
<li>Esmeralda = Reviewed</li>
<li>Pizarra = Community</li>
</ul>
</li>
<li>
<strong>Cantidad de descargas</strong> y un botón “View”</li>
</ul>
<div class="section level4">
<h4 id="búsqueda-y-filtrado">Búsqueda y filtrado<a class="anchor" aria-label="anchor" href="#b%C3%BAsqueda-y-filtrado"></a>
</h4>
<p>La parte superior de la pestaña de Recetas ofrece cuatro filtros:</p>
<table class="table">
<colgroup>
<col width="27%">
<col width="34%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th>Filtro</th>
<th>Opciones</th>
<th>Propósito</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Search</td>
<td>Texto libre</td>
<td>Busca en el nombre y la descripción de la receta</td>
</tr>
<tr class="even">
<td>Survey type</td>
<td>ECH, EAII, EPH, EAI</td>
<td>Filtrar por encuesta</td>
</tr>
<tr class="odd">
<td>Category</td>
<td>Labor Market, Income, Education, Health, Demographics, Housing</td>
<td>Filtrar por tema</td>
</tr>
<tr class="even">
<td>Certification</td>
<td>Official, Reviewed, Community</td>
<td>Filtrar por nivel de confianza</td>
</tr>
</tbody>
</table>
<p>Los filtros se aplican del lado del cliente para obtener resultados
instantáneos. Utilice el botón de actualización para recargar los datos
desde la API.</p>
</div>
<div class="section level4">
<h4 id="fila-de-estadísticas">Fila de estadísticas<a class="anchor" aria-label="anchor" href="#fila-de-estad%C3%ADsticas"></a>
</h4>
<p>Debajo de los filtros, tres cuadros de estadísticas resumen los datos
actuales:</p>
<ul>
<li>
<strong>Recetas totales</strong> en el registro</li>
<li>
<strong>Recetas oficiales</strong> con certificación
institucional</li>
<li>
<strong>Descargas totales</strong> de todas las recetas</li>
</ul>
</div>
<div class="section level4">
<h4 id="modal-de-detalle-de-receta">Modal de detalle de receta<a class="anchor" aria-label="anchor" href="#modal-de-detalle-de-receta"></a>
</h4>
<p>Haga clic en “View” en cualquier tarjeta de receta para abrir un
modal de detalle que muestra:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Metadatos</strong>: nombre, descripción, edición, tipo de
encuesta</li>
<li>
<strong>Información del autor</strong>: nombre del creador,
institución, nivel de confianza</li>
<li>
<strong>Variables de entrada</strong>: lo que la receta espera
encontrar en los datos de la encuesta (mostradas como chips)</li>
<li>
<strong>Variables de salida</strong>: lo que la receta crea
(mostradas como chips)</li>
<li>
<strong>Visualización del pipeline</strong>: grafo interactivo de
pasos (si el paquete <code>visNetwork</code> está instalado)</li>
<li>
<strong>Recetas dependientes</strong>: otras recetas de las que esta
depende (con enlaces para navegación)</li>
<li>
<strong>Workflows que la referencian</strong>: workflows que
utilizan esta receta (con enlace para ir a la pestaña de Workflows)</li>
<li>
<strong>Metadatos ANDA</strong>: etiquetas de variables del catálogo
de datos del INE, cuando están disponibles (integración no oficial;
verifique contra el libro de códigos oficial)</li>
</ol>
</div>
</div>
<div class="section level3">
<h3 id="pestaña-de-workflows">Pestaña de Workflows<a class="anchor" aria-label="anchor" href="#pesta%C3%B1a-de-workflows"></a>
</h3>
<p>La pestaña <strong>Workflows</strong> muestra los workflows de
estimación publicados. Cada tarjeta de workflow presenta el tipo de
estimación (Annual, Quarterly, Monthly) y las recetas que
referencia.</p>
<p>Los workflows utilizan la misma interfaz de búsqueda y filtrado que
las recetas. El modal de detalle muestra:</p>
<ul>
<li>Todas las llamadas de estimación (<code>svymean</code>,
<code>svytotal</code>, <code>svyratio</code>, <code>svyby</code>)
presentadas como una línea de tiempo visual</li>
<li>Referencias cruzadas a las recetas utilizadas para la preparación de
datos</li>
<li>Haga clic en una receta referenciada para navegar directamente a su
detalle</li>
</ul>
</div>
<div class="section level3">
<h3 id="navegación-cruzada">Navegación cruzada<a class="anchor" aria-label="anchor" href="#navegaci%C3%B3n-cruzada"></a>
</h3>
<p>Las recetas y los workflows están vinculados bidireccionalmente:</p>
<ul>
<li>Desde el <strong>detalle de una receta</strong>, haga clic en un
workflow que la referencia para ir a la pestaña de Workflows y abrir el
detalle de ese workflow</li>
<li>Desde el <strong>detalle de un workflow</strong>, haga clic en una
receta referenciada para volver a la pestaña de Recetas y abrir el
detalle de esa receta</li>
</ul>
<p>Esto permite rastrear el pipeline de análisis completo: desde la
transformación de datos (receta) hasta la estimación (workflow).</p>
</div>
<div class="section level3">
<h3 id="pestaña-de-perfil">Pestaña de Perfil<a class="anchor" aria-label="anchor" href="#pesta%C3%B1a-de-perfil"></a>
</h3>
<p>La pestaña de Perfil cambia según el estado de autenticación:</p>
<p><strong>Antes de iniciar sesión</strong>: muestra un formulario de
inicio de sesión/registro con dos sub-pestañas:</p>
<ul>
<li>
<strong>Login</strong>: correo electrónico y contraseña</li>
<li>
<strong>Register</strong>: nombre, correo electrónico, contraseña,
tipo de cuenta (Individual, Institutional Member o Institution)</li>
</ul>
<p><strong>Después de iniciar sesión</strong>: muestra el perfil
con:</p>
<ul>
<li>Nombre, tipo de cuenta, nivel de confianza, correo electrónico e
institución</li>
<li>Botón <strong>My Recipes</strong> para ver las recetas
publicadas</li>
<li>Sección <strong>API Token</strong> para generar un token de larga
duración para uso en scripts</li>
<li>Botón <strong>Logout</strong>
</li>
</ul>
<div class="section level4">
<h4 id="generación-de-un-api-token">Generación de un API Token<a class="anchor" aria-label="anchor" href="#generaci%C3%B3n-de-un-api-token"></a>
</h4>
<p>Desde la pestaña de Perfil, haga clic en “Generate API Token” para
crear un token de 90 días para usar en scripts de R:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use the token generated from the app</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>METASURVEY_TOKEN <span class="op">=</span> <span class="st">"your-token-here"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Now API calls work without interactive login</span></span>
<span><span class="va">recipes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/api_list_recipes.html">api_list_recipes</a></span><span class="op">(</span>survey_type <span class="op">=</span> <span class="st">"ech"</span><span class="op">)</span></span></code></pre></div>
<p>Esto es útil para scripts automatizados y pipelines de CI/CD.</p>
</div>
<div class="section level4">
<h4 id="panel-de-administración">Panel de administración<a class="anchor" aria-label="anchor" href="#panel-de-administraci%C3%B3n"></a>
</h4>
<p>Si su cuenta tiene privilegios de administrador, aparece un panel
adicional para revisar solicitudes de cuentas institucionales. Los
administradores pueden aprobar o rechazar registros pendientes.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="modo-offline">Modo offline<a class="anchor" aria-label="anchor" href="#modo-offline"></a>
</h2>
<p>Si la API no está disponible, la aplicación cambia automáticamente al
modo offline utilizando datos de ejemplo incorporados. Esto incluye 13
recetas de muestra y 6 workflows de muestra que cubren casos de uso
comunes de la ECH:</p>
<ul>
<li>Indicadores del mercado laboral</li>
<li>Distribución del ingreso y pobreza</li>
<li>Educación y cobertura de salud</li>
<li>Demografía y vivienda</li>
<li>Indicadores de innovación (EAII)</li>
</ul>
<p>El modo offline es útil para demostraciones y para explorar la
interfaz sin acceso a la red.</p>
</div>
<div class="section level2">
<h2 id="despliegue-con-docker">Despliegue con Docker<a class="anchor" aria-label="anchor" href="#despliegue-con-docker"></a>
</h2>
<p>Para despliegue en producción o uso interno de un equipo, la
aplicación incluye un Dockerfile:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Build the image</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">-t</span> metasurvey-shiny inst/shiny/</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Run on port 3838</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-p</span> 3838:3838 <span class="dt">\</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="at">-e</span> METASURVEY_API_URL=<span class="st">"https://metasurvey-api-production.up.railway.app"</span> <span class="dt">\</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  metasurvey-shiny</span></code></pre></div>
<p>La variable de entorno <code>METASURVEY_API_URL</code> configura a
qué API se conecta la aplicación. Puede apuntar a una instancia
auto-alojada.</p>
</div>
<div class="section level2">
<h2 id="próximos-pasos">Próximos pasos<a class="anchor" aria-label="anchor" href="#pr%C3%B3ximos-pasos"></a>
</h2>
<ul>
<li>
<strong><a href="api-database.html">Referencia de API y Base de
Datos</a></strong> – Detalles técnicos sobre los endpoints de la API y
el esquema de MongoDB</li>
<li>
<strong><a href="recipes.html">Creación y Compartición de
Recetas</a></strong> – Construir recetas de forma programática y
publicarlas</li>
<li>
<strong><a href="workflows-and-estimation.html">Workflows de
Estimación</a></strong> – Calcular estimaciones ponderadas de encuestas
con <code><a href="../reference/workflow.html">workflow()</a></code>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.mauroloprete.com" class="external-link">Mauro Loprete</a>, <a href="https://natydasilva.github.io/natydasilva/" class="external-link">Natalia da Silva</a>, <a href="https://iecon.fcea.udelar.edu.uy/es/autores/item/machado-fabricio.html" class="external-link">Fabricio Machado</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
