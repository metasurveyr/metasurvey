<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extraer encuestas por periodicidad de panel rotativo — extract_surveys • metasurvey</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Extraer encuestas por periodicidad de panel rotativo — extract_surveys"><meta name="description" content="Esta función extrae subconjuntos de encuestas de un objeto RotativePanelSurvey
basándose en criterios temporales específicos. Permite obtener encuestas para
diferentes tipos de análisis (mensual, trimestral, anual) respetando la
estructura temporal del panel rotativo."><meta property="og:description" content="Esta función extrae subconjuntos de encuestas de un objeto RotativePanelSurvey
basándose en criterios temporales específicos. Permite obtener encuestas para
diferentes tipos de análisis (mensual, trimestral, anual) respetando la
estructura temporal del panel rotativo."><meta property="og:image" content="https://metasurveyr.github.io/metasurvey/logo.png"><!-- javascript assets for rmarkdown --><meta name="pkgdown-site-root" content="../"><script src="../ace-1.2.3/ace.js" type="text/javascript" charset="utf-8"></script><script src="../holder-2.9.0/holder.min.js" type="text/javascript" charset="utf-8"></script><script src="../snippets/snippets.js" type="text/javascript" charset="utf-8"></script><style type="text/css">
.snippet {
  border: solid 1px #cccccc;
  margin-bottom: 12px;
  width: 100%;
}
</style></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metasurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/metasurveyr/metasurvey/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extraer encuestas por periodicidad de panel rotativo</h1>
      <small class="dont-index">Source: <a href="https://github.com/metasurveyr/metasurvey/blob/main/R/PanelSurvey.R" class="external-link"><code>R/PanelSurvey.R</code></a></small>
      <div class="d-none name"><code>extract_surveys.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Esta función extrae subconjuntos de encuestas de un objeto RotativePanelSurvey
basándose en criterios temporales específicos. Permite obtener encuestas para
diferentes tipos de análisis (mensual, trimestral, anual) respetando la
estructura temporal del panel rotativo.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_surveys</span><span class="op">(</span></span>
<span>  <span class="va">RotativePanelSurvey</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  monthly <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  annual <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quarterly <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  biannual <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use.parallel <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-rotativepanelsurvey">RotativePanelSurvey<a class="anchor" aria-label="anchor" href="#arg-rotativepanelsurvey"></a></dt>
<dd><p>Objeto <code>RotativePanelSurvey</code> que contiene las
encuestas del panel rotativo organizadas temporalmente</p></dd>


<dt id="arg-index">index<a class="anchor" aria-label="anchor" href="#arg-index"></a></dt>
<dd><p>Vector de enteros que especifica índices específicos de
encuestas a extraer. Si es un solo valor, devuelve esa encuesta;
si es un vector, devuelve una lista</p></dd>


<dt id="arg-monthly">monthly<a class="anchor" aria-label="anchor" href="#arg-monthly"></a></dt>
<dd><p>Vector de enteros que especifica qué meses extraer para
análisis mensual (1-12)</p></dd>


<dt id="arg-annual">annual<a class="anchor" aria-label="anchor" href="#arg-annual"></a></dt>
<dd><p>Vector de enteros que especifica qué años extraer para
análisis anual</p></dd>


<dt id="arg-quarterly">quarterly<a class="anchor" aria-label="anchor" href="#arg-quarterly"></a></dt>
<dd><p>Vector de enteros que especifica qué trimestres extraer
para análisis trimestral (1-4)</p></dd>


<dt id="arg-biannual">biannual<a class="anchor" aria-label="anchor" href="#arg-biannual"></a></dt>
<dd><p>Vector de enteros que especifica qué semestres extraer
para análisis semestral (1-2)</p></dd>


<dt id="arg-use-parallel">use.parallel<a class="anchor" aria-label="anchor" href="#arg-use-parallel"></a></dt>
<dd><p>Lógico que indica si usar procesamiento en paralelo
para operaciones intensivas. Por defecto FALSE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Lista de objetos <code>Survey</code> que corresponden a los criterios
especificados, o un solo objeto <code>Survey</code> si se especifica un índice único</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Esta función es esencial para trabajar con paneles rotativos porque:</p><ul><li><p>Facilita análisis por periodicidad: Permite extraer datos para
diferentes tipos de estimaciones temporales</p></li>
<li><p>Mantiene estructura temporal: Respeta las relaciones temporales
entre las diferentes ondas del panel</p></li>
<li><p>Optimiza memoria: Solo carga las encuestas necesarias para el análisis</p></li>
<li><p>Facilita comparaciones: Permite extraer períodos específicos para
análisis comparativos</p></li>
<li><p>Soporta paralelización: Para operaciones con grandes volúmenes de datos</p></li>
</ul><p>Los criterios de extracción se interpretan según la frecuencia de la encuesta:</p><ul><li><p>Para ECH mensual: monthly=c(1,3,6) extrae enero, marzo y junio</p></li>
<li><p>Para análisis anual: annual=1 típicamente extrae el primer año disponible</p></li>
<li><p>Para análisis trimestral: quarterly=c(1,4) extrae Q1 y Q4</p></li>
</ul><p>Si no se especifica ningún criterio, la función devuelve la encuesta de
implantación con una advertencia.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="load_panel_survey.html">load_panel_survey</a></code> para cargar paneles rotativos
<code><a href="get_implantation.html">get_implantation</a></code> para obtener datos de implantación
<code><a href="get_follow_up.html">get_follow_up</a></code> para obtener datos de seguimiento
<code><a href="workflow.html">workflow</a></code> para usar las encuestas extraídas en análisis</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Cargar panel rotativo</span></span></span>
<span class="r-in"><span><span class="va">panel_ech</span> <span class="op">&lt;-</span> <span class="fu"><a href="load_panel_survey.html">load_panel_survey</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  path <span class="op">=</span> <span class="st">"ech_panel_2023.dta"</span>,</span></span>
<span class="r-in"><span>  svy_type <span class="op">=</span> <span class="st">"ech_panel"</span>,</span></span>
<span class="r-in"><span>  svy_edition <span class="op">=</span> <span class="st">"2023"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extraer encuestas mensuales específicas</span></span></span>
<span class="r-in"><span><span class="va">ech_trimestre1</span> <span class="op">&lt;-</span> <span class="fu">extract_surveys</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">panel_ech</span>,</span></span>
<span class="r-in"><span>  monthly <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span> <span class="co"># Enero, febrero, marzo</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extraer por índice</span></span></span>
<span class="r-in"><span><span class="va">ech_primera</span> <span class="op">&lt;-</span> <span class="fu">extract_surveys</span><span class="op">(</span><span class="va">panel_ech</span>, index <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ech_varias</span> <span class="op">&lt;-</span> <span class="fu">extract_surveys</span><span class="op">(</span><span class="va">panel_ech</span>, index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Análisis trimestral</span></span></span>
<span class="r-in"><span><span class="va">ech_Q1_Q4</span> <span class="op">&lt;-</span> <span class="fu">extract_surveys</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">panel_ech</span>,</span></span>
<span class="r-in"><span>  quarterly <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Para análisis anual (típicamente todas las encuestas del año)</span></span></span>
<span class="r-in"><span><span class="va">ech_anual</span> <span class="op">&lt;-</span> <span class="fu">extract_surveys</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">panel_ech</span>,</span></span>
<span class="r-in"><span>  annual <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Con procesamiento paralelo para grandes volúmenes</span></span></span>
<span class="r-in"><span><span class="va">ech_completo</span> <span class="op">&lt;-</span> <span class="fu">extract_surveys</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">panel_ech</span>,</span></span>
<span class="r-in"><span>  monthly <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,</span></span>
<span class="r-in"><span>  use.parallel <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Usar en workflow</span></span></span>
<span class="r-in"><span><span class="va">resultados</span> <span class="op">&lt;-</span> <span class="fu"><a href="workflow.html">workflow</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  survey <span class="op">=</span> <span class="fu">extract_surveys</span><span class="op">(</span><span class="va">panel_ech</span>, quarterly <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu">svymean</span><span class="op">(</span><span class="op">~</span><span class="va">desocupado</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  estimation_type <span class="op">=</span> <span class="st">"quarterly"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.mauroloprete.com" class="external-link">Mauro Loprete</a>, <a href="https://natydasilva.github.io/natydasilva/" class="external-link">Natalia da Silva</a>, <a href="https://iecon.fcea.udelar.edu.uy/es/autores/item/machado-fabricio.html" class="external-link">Fabricio Machado</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

